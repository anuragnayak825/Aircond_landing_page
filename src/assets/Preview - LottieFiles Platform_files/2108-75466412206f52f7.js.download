"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2108,1733],{11733:function(e,t,r){r.r(t),r.d(t,{DefaultUpgradeModal:function(){return P},UpgradeModal:function(){return A},default:function(){return _}});var a=r(97458),n=r(96734),o=r(69826),s=r(84867),i=r(52983),l=r(46833),c=r.n(l),u=r(66578),d=r(80794),p=r(40487),f=r(68585),m=r(76558),h=r(61299),g=r(40331);const w="https://odd-flexibility-390072.framer.app",y={width:"840px",height:"670px"},x={width:"100%",height:"100%",border:"none"},v=e=>{let{feature:t,from:r="",onClose:l,slug:c,workspaceId:u}=e;var v;const{on:k}=(0,n.SS)(s.AD.ENABLE_INLINE_CHECKOUT),b=k?"event":"link",[C]=(0,d.aM)({query:f.Dt,variables:{id:u},pause:!u}),j=(0,i.useMemo)((()=>({...y,height:t.startsWith("file-upload-limit")?"705px":y.height,..."upgrade-modal-dec-2023"===c&&{width:"1000px",height:"710px"},..."plugin-modal"===c&&{width:window.innerWidth,height:"509px"},..."upgrade-modal-aug-2024-no-individual"===c&&{width:"950px",height:"750px"}})),[c,t]);!function(e){let{canUseInlineCheckout:t,framerAppUrl:r,onClose:a,workspaceId:n}=e;const{openModal:l}=(0,h.h6)(),{push:c}=(0,m.useRouter)(),{planType:u}=(0,g.g)(n),d=(0,i.useCallback)(((e,r,i)=>{if(t&&u===s.Qi.FREE)l({priceId:e}),(0,o.Z9)(new o.gE({source:o.TY.UPGRADE_MODAL,priceId:e,workspaceId:n})),setTimeout((()=>{null==a||a()}),300);else{const t=new URLSearchParams;t.append("price_id",e),r&&t.append("utm_source",r),i&&t.append("utm_medium",i),c("/upgrade?".concat(t.toString()))}}),[t,l,a,c]),p=(0,i.useCallback)((e=>{const{data:t,origin:a}=e;"react-devtools-bridge"!==(null==t?void 0:t.source)&&a===r&&"OPEN_INLINE_CHECKOUT"===(null==t?void 0:t.type)&&t.priceId&&d(t.priceId,t.utmSource,t.utmMedium)}),[d,r]);(0,i.useEffect)((()=>(window.addEventListener("message",p),()=>window.removeEventListener("message",p))),[p])}({canUseInlineCheckout:k,framerAppUrl:w,onClose:l,workspaceId:u||""});const N=new URL("".concat(w,"/").concat(c));return N.searchParams.append("feature",t),r&&N.searchParams.append("from",r),u&&N.searchParams.append("workspace_id",u),N.searchParams.append("interaction_type",b),C.fetching&&u?(0,a.jsx)(a.Fragment,{}):(u&&!(null===(v=C.data)||void 0===v?void 0:v.workspace.hasOwnership)?N.searchParams.append("is_owner","false"):N.searchParams.append("is_owner","true"),(0,a.jsx)("div",{style:j,children:(0,a.jsx)(p.u,{allowTopNavigation:!0,allowScripts:!0,allowPopups:!0,allowForms:!0,src:N.href,style:x,title:"Upgrade Modal"})}))};var k=r(29602),b=r(76682),C=r(40288),j=r(96698);const N="".concat("https://lottiefiles.com","/pricing"),E=e=>{let{children:t}=e;return(0,a.jsxs)("li",{className:"flex my-4",children:[(0,a.jsx)(k.J,{name:"tick",color:"text-actionPrimary",marginRight:!0}),(0,a.jsx)("div",{className:"text-sm font-normal text-gray-900",children:t})]})},I=["Unlimited projects, files and previews","Color palette to your Lottie","File size optimization","Private sharing and commenting","Custom embeds","Track version history","Team collaboration","Developer handoff"],P=e=>{let{from:t="",source:r}=e;const n=(0,i.useCallback)((()=>{const e=new o.nS("upgrade-modal",N);return(0,o.Z9)(e),!0}),[]);return(0,a.jsxs)("div",{className:"flex p-6 space-x-10",children:[(0,a.jsxs)("div",{className:"flex flex-col w-96",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold leading-snug text-gray-900",children:"Get access to all features for designers, developers, and teams."}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("ol",{className:"relative",children:I.map((e=>(0,a.jsx)(E,{children:e},c()(e))))}),(0,a.jsx)("p",{className:"text-sm font-normal text-gray-900",children:"and more.."})]}),(0,a.jsx)("div",{className:"flex-grow"}),(0,a.jsx)(C.r,{className:"relative flex items-center justify-center w-full px-2 py-3 text-sm font-bold text-white rounded-md bg-actionPrimary hover:bg-actionPrimaryHover disabled:bg-teal-600 disabled:opacity-30 disabled:cursor-not-allowed",onClick:n,href:"".concat(N,"?platform=app&source=").concat(r,"&from=").concat(t),children:"Get All Features"})]}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("img",{role:"presentation",alt:"Upload modal",src:"/images/2x-upload-modal-image.png",className:"w-[440px]"})})]})},A=e=>{let{additionalParams:t,from:r="",onCloseCallback:l,show:c,source:d,workspaceId:p}=e;const f=(0,n.SS)(s.AD.FRAMER_PRICING_URL),{loading:m,pendingProcessing:h}=(0,j.k)(p),g=(0,n.SS)(s.AD.FILE_UPLOAD_LIMIT),w=window.innerWidth>768?f.value:"plugin-modal";return(0,i.useEffect)((()=>{if(c){const e=new o.LJ({source:d,from:r,workspaceId:p,additionalParams:{...g.on&&g.value?{fileLimit:g.value}:{},...t},...t,modalVersion:f.on&&f.value?w:"default"});(0,o.Z9)(e)}}),[t,r,f.on,f.value,c,d,p,w,g.on,g.value]),m?(0,a.jsx)(a.Fragment,{}):h&&c?(0,a.jsx)(u.f,{onClose:l}):(0,a.jsx)(b.H,{show:c,size:"auto",contentPadding:"p-0",titleSeparator:!1,closeCallback:l,showCloseButton:!1,hideOnBackgroundClick:!0,children:f.on&&f.value?(0,a.jsx)(v,{slug:w,feature:d,from:r,workspaceId:p,onClose:l}):(0,a.jsx)(P,{source:d})})};var _=A},78018:function(e,t,r){r.d(t,{P:function(){return u}});var a=r(69826),n=r(7253),o=r(52983),s=r(6136),i=r(35586),l=r(29278),c=r(77109);const u=e=>{let{file:t,onError:r,onQueueZipEntries:u}=e;(0,o.useEffect)((()=>{let e=!0,o=!1;let d;const p=async(n,d)=>{if(e)if(n)r(i.MK,!0);else if(d){o=!0;let n=!1,p=!1;if(Object.keys(d).forEach((e=>{n=n||"manifest.json"===e,p=p||e.startsWith("animations/")&&e.endsWith(".json")})),n&&p&&t){const e="".concat(t.name,".lottie"),r=new File([t],e,{type:"application/zip"}),a=await(0,s.hQ)({file:r});return a.filename=t.name,void u([a])}const f=new Map,m=new Map,h=new Map;if(await Promise.all(Object.keys(d).map((async e=>{if(await(0,c._v)(10),e.startsWith("__MACOSX"))return;var t;const r=new Blob([null!==(t=d[e])&&void 0!==t?t:new Uint8Array]),a={blob:r,json:null};f.set(e,a),e.endsWith(".json")?(a.json=await(async e=>new Promise(((t,r)=>{const a=new FileReader;a.onload=()=>{const e=a.result;"string"==typeof e?t(JSON.parse(e)):r(new Error("Failed to parse blob"))},a.onerror=()=>{const e=a.error;r(e||new Error("Failed to parse blob."))},a.readAsText(e)})))(r),m.set(e,a)):e.endsWith(".lottie")&&h.set(e,a)}))),!e)return;if(0===m.size&&0===h.size)return void r(i.xm,!0);const g=new Map;m.forEach(((e,t)=>{if(e.json){const r=t.substring(0,t.lastIndexOf("/")),a=(e=>{if("assets"in e){const t=e.assets;if(Array.isArray(t))return t.filter((e=>!!(e=>{if((e=>!("object"!=typeof e||!e||!("id"in e))&&"string"==typeof e.id)(e)&&"u"in e&&"p"in e){const t=e;return"string"==typeof t.u&&"string"==typeof t.p}return!1})(e)&&!e.e)).map((e=>{const t=e.u.endsWith("/")?e.u:"".concat(e.u,"/");return{asset:e,path:"".concat(t).concat(e.p)}}))}return[]})(e.json);a.forEach((t=>{const a=r?"".concat(r,"/").concat(t.path):t.path;if(!f.has(a))return void(e.error=i.YD);var n;const o=null!==(n=g.get(a))&&void 0!==n?n:[];o.push(t.asset),g.set(a,o)}))}}));const w=Array.from(g.entries());await Promise.all(w.map((async e=>{let[t,r]=e;return(async(e,t,r)=>new Promise(((a,n)=>{const o=r.get(e);if(!o)return void n(new Error("Could not find file ".concat(e)));const s=new FileReader;s.onload=e=>{var r;const n=null===(r=e.target)||void 0===r?void 0:r.result;t.forEach((e=>{e.e=1,e.p=n,e.u=""})),a()},s.onerror=()=>{s.error?n(s.error):n(new Error("Failed to embed asset file."))},s.readAsDataURL(o.blob)})))(t,r,f)})));const y=await Promise.all(Array.from(m.entries()).map((async e=>{let[t,r]=e;if(r.json){const e=JSON.stringify(r.json),o=new Blob([e],{type:"application/json"});var n;(0,c._v)(2);const i=null!==(n=t.split("/").pop())&&void 0!==n?n:t,u=new File([o],i,{type:"application/json"});await(0,c._v)(2);const d=(0,s.hQ)({file:u});if(r.error)return{...d,errorMessage:r.error,status:s.xD.Errored};const p=await(0,l.nx)(e);if(!p.ok){const e=new a.d4({reason:a.ni.VALIDATION_FAILED,source:"zip-upload",errors:p.errors,hasBreakingNodes:p.hasBreakingNodes});return(0,a.Z9)(e),{...d,errorMessage:p.status,status:s.xD.Errored}}return d}throw new Error("Not a valid json file.")}))),x=await Promise.all(Array.from(h.entries()).map((async e=>{let[t,r]=e;if(r.blob){var a;const e=null!==(a=t.split("/").pop())&&void 0!==a?a:t,n=new File([r.blob],e,{type:"application/zip"});await(0,c._v)(2);const o=await(0,s.hQ)({file:n}),i=await(0,l.Ji)(n);return"string"==typeof i?{...o,errorMessage:i,status:s.xD.Errored}:o}throw new Error("Not a valid .lottie file")})));if(!e)return;u([...y,...x])}};return(async()=>{if(!t)return;const r=await t.arrayBuffer();if(!e)return;const a=new Uint8Array(r);d=(0,n.Ri)(a,p)})(),()=>{e=!1,null==d||d()}}),[t,u,r])}},1660:function(e,t,r){r.d(t,{T:function(){return l}});var a=r(97458),n=r(52983),o=r(42740),s=r(60202),i=r(80951);const l=e=>{let{disabled:t,onChange:r,value:l}=e;const c=(0,o.p)(),u=(0,n.useRef)(null),d=(0,n.useCallback)((e=>{r(e.target.value),e.target.value.length===s.C&&(null==c||c.pushInfo("Asset name shortened to ".concat(s.C," characters")))}),[r]);return(0,n.useEffect)((()=>{const e=e=>{"Enter"===e.key&&e.preventDefault()},t=u.current;return t?(t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}):()=>{}}),[]),(0,a.jsx)(i.I,{disabled:t,onChange:d,inputRef:u,value:l,maxLength:s.C,customClasses:"w-full py-[5.5px] px-3 rounded-lg bg-gray-50 border-gray-100 p-0 m-0 text-sm text-gray-900 focus:outline-none focus:ring-1 focus:ring-teal-200 ring-offset-0 focus:border-teal-200 mt-px ml-px truncate leading-5"})}},50251:function(e,t,r){r.d(t,{n:function(){return c}});var a=r(97458),n=r(83849),o=r.n(n),s=r(52983),i=r(98532),l=r(31401);const c=(0,s.forwardRef)(((e,t)=>{let{compact:r=!0,disabled:n,hoverBackgroundColorClass:c,hoverIconColorClass:u,icon:d,iconColorClass:p,onClick:f,placement:m="left",shortcut:h,testId:g,title:w}=e;const y=(0,s.useCallback)((()=>{f&&f()}),[f]);return(0,a.jsx)(l.u,{title:w,placement:m,shortcut:h,children:(0,a.jsx)(i.h,{medium:r,ref:t,name:d,onClick:y,rounded:!0,backgroundColor:"white",iconClass:p,noFocus:!0,hoverBackgroundClass:o()(c||"hover:bg-gray-100","!size-8 !rounded-lg"),hoverIconClass:u||"",darker:!0,disabled:n,testId:g})})}));c.displayName="FloatingControl"},24304:function(e,t,r){r.d(t,{c:function(){return m}});var a=r(97458),n=r(25275),o=r(7714),s=r(37210),i=r(83849),l=r.n(i),c=r(52983),u=r(50251);const d={width:"100%",height:"100%"},p=e=>{let{animation:t,buffer:r,formatVersion:s,isDotLottie:i,src:l}=e;if(i&&"2"===s)return(0,a.jsx)(n.nI,{src:l,data:r,autoplay:!0,loop:!0,style:d});const c=l||t;return(0,a.jsx)(o.y1,{src:c,autoplay:!0,loop:!0,style:d})},f=(0,s.zo)("div",{backgroundColor:"$$backgroundColor","@media (min-height: 600px)":{height:"359px"}}),m=e=>{let{animation:t,backgroundColor:r=null,buffer:n,formatVersion:o=null,isDotLottie:s=!1,src:i}=e;const[d,m]=c.useState("none"===r||null===r),h=(0,c.useRef)(null),g=(0,c.useCallback)((()=>{m(!d)}),[d]);return(0,a.jsxs)(f,{css:{$$backgroundColor:r||"#F3F6F8"},className:l()("relative flex flex-grow border border-gray-100 rounded-lg",{"transparency-grid":d}),children:[(0,a.jsx)("div",{className:"absolute z-20 flex flex-col right-3 bottom-3",children:(0,a.jsx)(u.n,{icon:"grid",compact:!0,title:"Transparency grid",onClick:g,iconColorClass:"".concat(d?"text-teal-200":"text-gray-600")})}),(0,a.jsx)("div",{ref:h,className:"relative grid w-full place-items-center",children:(0,a.jsx)("div",{className:"absolute inset-0 flex justify-center",children:(0,a.jsx)(p,{buffer:n,animation:t,src:i,formatVersion:o,isDotLottie:s})})})]})}},29278:function(e,t,r){r.d(t,{Ji:function(){return c},NH:function(){return u},nx:function(){return l}});var a=r(14235),n=r(17325),o=r(69889),s=r(35586),i=r(95049);const l=async e=>{try{if(!(e=>["v","ip","op","layers","fr","w","h"].every((t=>Object.prototype.hasOwnProperty.call(e,t))))(JSON.parse(e)))return{errors:[s.CT],fileType:"application/json",hasBreakingNodes:!1,ok:!1,status:s.CT}}catch(e){return{errors:["".concat(e instanceof Error?e.message:e)],fileType:"application/json",hasBreakingNodes:!1,ok:!1,status:s.CT}}const t=await(async e=>(await(0,a.v)().use(n.ZP,{position:!1}).use(o.ZP,{breakingNodes:!0}).process(e)).data.validate.hasBreakingNodes?{errors:[s.hu],fileType:"application/json",hasBreakingNodes:!0,ok:!1,status:s.hu}:{errors:[],fileType:"application/json",hasBreakingNodes:!1,ok:!0,status:"ok"})(e);return t},c=async e=>{const t=await e.arrayBuffer(),r=await i.J2.fromArrayBuffer(t),a=await r.getAnimationAtIndex(0);if(!a)return{errors:["First animation is missing."],fileType:"application/zip",hasBreakingNodes:!1,ok:!1,status:s.bS};try{const e=await a.toJSON({inlineAssets:!0}),t=await l(JSON.stringify(e));return{errors:{[a.id]:t.errors},fileType:"application/zip",hasBreakingNodes:t.hasBreakingNodes,ok:t.ok,status:t.status}}catch(e){return{errors:["".concat(e instanceof Error?e.message:e)],fileType:"application/zip",hasBreakingNodes:!1,ok:!1,status:s.bS}}},u=async e=>{if(e.type.includes("application/json")){const t=await e.text();return await l(t)}if("application/zip"!==e.type&&!e.name.endsWith(".lottie"))return{errors:[s.L7],fileType:e.type,hasBreakingNodes:!1,ok:!1,status:s.L7};return await c(e)}},95996:function(e,t,r){r.d(t,{J:function(){return a},d:function(){return n}});const a="8.1.0",n="@lottiefiles/workflow-web"}}]);