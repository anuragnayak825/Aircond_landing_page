(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8512,6366],{7874:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project",function(){return t(60473)}])},79580:function(e,s,t){"use strict";t.d(s,{s:function(){return c}});var a=t(97458),r=t(52983),n=t(86289),o=t(10836),l=t(91406),i=t(76682);const c=e=>{let{body:s,buttonTitle:t,cancelTitle:c="Cancel",closeCallback:d=(()=>null),confirmLoading:u=!1,isDestructive:p=!0,onConfirm:x,showModal:m,testId:h,title:j,zIndexClassName:g="z-50",version:f="v2"}=e;const v=(0,r.useCallback)((()=>{x()}),[x]),w=(0,r.useCallback)((e=>{d(e)}),[d]);return"v3"===f?(0,a.jsx)(i.H,{titleSeparator:!1,title:j,show:m,headerPadding:"pl-5 pr-4 pt-4 pb-0",titleCssClass:"text-lg font-bold text-primary",contentPadding:"p-5 pb-0",footerSeparator:!1,footer:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-x-2",children:[(0,a.jsx)(o.z,{onClick:()=>w(l.CloseSource.CANCEL_BUTTON),size:"sm",variant:"ghost",children:c}),(0,a.jsx)(o.z,{onClick:v,disabled:u,loading:u,size:"sm",variant:p?"danger":"primary",children:t})]}),children:(0,a.jsx)("p",{className:"text-sm text-primary",children:s})}):(0,a.jsx)(l.ModalV2,{show:m,title:j,paddingSize:"md",zIndexClassName:g,closeCallback:w,testId:h,children:(0,a.jsxs)("div",{className:"mt-6 space-y-10",children:[(0,a.jsx)("p",{className:"text-sm text-gray-900",children:s}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)(n.z,{variant:"ghost",onClick:()=>w(l.CloseSource.CANCEL_BUTTON),fluid:!0,children:c}),(0,a.jsx)(n.z,{disabled:u,showLoader:u,color:p?"red":"teal",onClick:v,fluid:!0,children:t})]})]})})};s.Z=c},94575:function(e,s,t){"use strict";t.d(s,{h:function(){return c}});var a=t(97458),r=t(52983),n=t(28429),o=t(84867);const l=e=>{let{assetTypeText:s,pronounText:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),"Please note that deleting ",t," ",s," won’t reset your upload count."]})},i=e=>{let{assetMessage:s,isRecentlyDeletedFeatureEnabled:t}=e;return t?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("span",{children:[s," will be moved to the 'Recently Deleted' section and kept for 30 days before being permanently deleted."]})}):(0,a.jsxs)(a.Fragment,{children:[s," will be removed. You won't be able to undo this."]})},c=e=>{let{assetType:s="unknown",count:t,isRecentlyDeletedFeatureEnabled:c,planType:d}=e;const u=(0,r.useMemo)((()=>(0,n._)({count:t,singular:"this",plural:"these",showCount:!1})),[t]),p=(0,r.useMemo)((()=>"animation"===s?(0,n._)({count:t,singular:"animation",plural:"animations",showCount:!1}):"folder"===s||"project"===s?(0,n._)({count:t,singular:"asset and any content within it",plural:"assets and any content within them",showCount:!1}):(0,n._)({count:t,singular:"asset",plural:"assets and any content within them",showCount:!1})),[s,t]),x=(0,r.useMemo)((()=>c||"folder"!==s&&"project"!==s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"capitalize",children:u})," ",p]}):"All of its contents"),[s,p,u,c]);return(0,a.jsxs)("span",{children:[(0,a.jsx)(i,{assetMessage:x,isRecentlyDeletedFeatureEnabled:c}),d===o.Qi.FREE&&(0,a.jsx)(l,{assetTypeText:p,pronounText:u})]})}},60473:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return $}});var a=t(97458),r=t(13787),n=t(17352),o=t(52983);const l=e=>{let{items:s,view:t}=e;return"grid"===t?(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-3 xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-6 5xl:grid-cols-8 6xl:grid-cols-12",children:Array.from({length:s}).map(((e,s)=>(0,a.jsx)("div",{className:"h-[75px]",children:(0,a.jsx)(n.J,{className:"rounded-md"})},"skeleton-".concat(s+1))))}):"list"===t?(0,a.jsx)("div",{className:"flex flex-col gap-4",children:Array.from({length:s}).map(((e,s)=>(0,a.jsx)("div",{className:"h-[40px]",children:(0,a.jsx)(n.J,{className:"rounded-md"})},"skeleton-".concat(s+1))))}):null};var i=t(14430),c=t(69775),d=t(44818),u=t(69826),p=t(84867),x=t(86289),m=t(98532),h=t(29602),j=t(3001),g=t(50885),f=t(30593);const v=[{label:"Last modified",value:"last-modified"},{label:"Newest",value:"newest"},{label:"Oldest",value:"oldest"},{label:"A - Z",value:"a-z"}],w=e=>{let{canCreateProjects:s,setViewLayout:t,viewLayout:r,workspaceId:n}=e;const{user:l}=(0,d.a)(),{isEditor:w}=(0,f.N)(),y=(0,o.useCallback)((()=>{(0,u.Z9)(new u.rR({userId:null==l?void 0:l.id,view:"grid"===r?"list":"grid"})),t("grid"===r?"list":"grid")}),[null==l?void 0:l.id,r,t]),[b,C]=o.useState(!1),k=(0,o.useCallback)((()=>{s?((0,u.Z9)(new u.Rd("button","create project","index page")),C(!0)):(0,i.Z)({source:p.Hh.CREATE_PROJECTS,workspaceId:n})}),[s,n]),N=(0,o.useCallback)((()=>{C(!1)}),[]);return(0,a.jsxs)("div",{className:"flex flex-col space-y-7 w-full",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl text-gray-900 font-arboria",children:"Projects"}),w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.z,{variant:"primary",className:"w-40",icon:"plus",iconSize:"small",onClick:k,children:(0,a.jsxs)("span",{className:"flex gap-2 items-center",children:["Project",!s&&(0,a.jsx)(h.J,{name:"crown",small:!0,className:"-mr-1"})]})}),(0,a.jsx)(j.Z,{show:b,close:N,workspaceId:n,source:"index page"})]})]}),(0,a.jsxs)(c.o,{stretch:!0,children:[(0,a.jsx)(g.j,{sortKey:"project",commonSorts:v}),(0,a.jsx)(m.h,{name:"list"===r?"grid-view":"list-view",darker:!0,noFocus:!0,onClick:y,medium:!0},r)]})]})};var y=t(91196),b=t(88317),C=t(70776),k=t(29389),N=t(10400),M=t(6904),P=t(45186),I=t.n(P),L=t(57157),S=t(31401),E=t(72950),T=t(60911),_=t(42740),F=t(34557),A=t(56291),R=t(84144),D=t(83849),z=t.n(D),O=t(9731),Z=t(80731),B=t.n(Z);function U(e){let{project:s,workspaceId:t}=e;const[r,n]=(0,o.useState)(!1),[l,i]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1),p=(0,_.p)(),{downloadAllInProject:x}=(0,A.p)(),{isEditor:h}=(0,f.N)(),j=(0,o.useCallback)((()=>{try{x({project:s,downloadAssetCount:1})}catch(e){null==p||p.pushError(e.message)}}),[s,x,p]),g=(0,o.useCallback)((e=>{e&&(0,u.Z9)(new u.Rd("button","project create menu","index page")),n(e)}),[n]),v=(0,o.useRef)(null),[w,y]=(0,o.useState)(0);(0,o.useEffect)((()=>{const e=new ResizeObserver((e=>{var s;y(null===(s=e[0])||void 0===s?void 0:s.contentRect.width)}));v.current&&e.observe(v.current);const s=v.current;return()=>{s&&e.unobserve(s),e.disconnect()}}),[]);const b=(0,O.WU)(new Date(s.updatedAt),"d MMM"),C=s.isPrivate?(0,a.jsx)(S.u,{placement:"bottom",title:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"Only people who are invited"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:"can view and edit this project"})]}),children:(0,a.jsx)(R.dvY,{width:32,className:"text-gray-500"})}):(0,a.jsx)(R.zde,{width:32,className:"text-gray-500"}),k=(0,a.jsx)("div",{className:z()("hidden",{"!block":c||r||l}),children:(0,a.jsxs)("div",{className:"flex items-center justify-end flex-1 gap-1",children:[h&&(0,a.jsx)(F.X,{children:(0,a.jsx)(E.b,{workspaceId:s.workspaceId,project:s,align:"start",setDefaultUploadPath:!0,onOpenChange:g,source:"index page",children:(0,a.jsx)(m.h,{tooltip:"Add new...",tooltipPlacement:"top",tooltipDisabled:r,name:"plus",roundedClass:"rounded",className:"text-gray-600",hoverBackgroundClass:z()("hover:bg-gray-100",{"bg-gray-50":r},"hover:bg-gray-50"),small:!0,noFocus:!0,testId:"project-card-create-menu-button"})})}),(0,a.jsx)(F.X,{children:(0,a.jsx)(T.default,{icon:"meatball-menu",iconClass:"text-gray-600",roundedClass:"rounded",hoverBackgroundClass:z()("hover:bg-gray-100",{"bg-gray-50":l},"hover:bg-gray-50"),isHovered:!0,projectId:s.id,projectTitle:s.title,workspaceId:t,isPrivate:s.isPrivate,isSystem:s.isSystem,permissionScopes:s.projectPermissionScopes,onDownloadAllClick:j,noFocus:!0,canShareProject:!0,onOpenChange:i,navigateToHomeAfterDelete:!1,source:"index page",testId:"project-card"})})]})});var N;return(0,a.jsx)(B(),{href:"/project/".concat(s.id),children:(0,a.jsxs)("div",{className:"flex items-center gap-2 px-5 py-4 bg-white border border-gray-100 rounded-lg group",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[(0,a.jsxs)("div",{className:"flex items-center flex-1 gap-3",children:[C,(0,a.jsxs)("div",{className:"flex flex-col gap-0.5 flex-1",children:[(0,a.jsx)("h2",{className:"text-sm text-gray-900 line-clamp-1",children:s.title}),(0,a.jsxs)("p",{ref:v,className:"flex-1 text-xs text-gray-400 line-clamp-1",children:[null!==(N=s.filesCount)&&void 0!==N?N:0," ",w>150&&"items","  •  ",w>100&&"Modified"," ",b]})]})]}),k]})})}function W(e){let{canLoadMore:s,isLoadingMore:t,onLoadMore:r,workspaceId:n,workspaceProjects:o}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-3 xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-6 5xl:grid-cols-8 6xl:grid-cols-12",children:null==o?void 0:o.edges.filter((e=>!(e.node.isSystem&&"Drafts"===e.node.title))).map((e=>(0,a.jsx)(U,{workspaceId:n,project:e.node},e.node.id)))}),s&&(0,a.jsx)(L.Q,{className:"col-span-full",onLoadMore:r,loadingMore:t})]})}var X=t(68363),H=t(76558);function J(e){let{project:s,workspaceId:t}=e;const[r,n]=(0,o.useState)(!1),[l,i]=(0,o.useState)(!1),c=(0,_.p)(),{downloadAllInProject:d}=(0,A.p)(),{isEditor:p}=(0,f.N)(),x=(0,o.useCallback)((()=>{try{d({project:s,downloadAssetCount:1})}catch(e){null==c||c.pushError(e.message)}}),[s,d,c]),h=(0,o.useCallback)((e=>{e&&(0,u.Z9)(new u.Rd("button","project create menu","index page")),n(e)}),[n]);return(0,a.jsxs)("div",{className:"flex items-center justify-end flex-1 gap-1",children:[p&&(0,a.jsx)(F.X,{children:(0,a.jsx)(E.b,{workspaceId:s.workspaceId,project:s,align:"start",setDefaultUploadPath:!0,onOpenChange:h,source:"index page",children:(0,a.jsx)(m.h,{tooltip:"Add new...",tooltipPlacement:"top",tooltipDisabled:r,name:"plus",roundedClass:"rounded",className:"text-gray-600",hoverBackgroundClass:z()("hover:bg-gray-100",{"bg-gray-50":r},"hover:bg-gray-50"),small:!0,noFocus:!0,testId:"project-options-create-menu-button"})})}),(0,a.jsx)(F.X,{children:(0,a.jsx)(T.default,{icon:"meatball-menu",iconClass:"text-gray-600",roundedClass:"rounded",hoverBackgroundClass:z()("hover:bg-gray-100",{"bg-gray-50":l},"hover:bg-gray-50"),isHovered:!0,projectId:s.id,projectTitle:s.title,workspaceId:t,isPrivate:s.isPrivate,isSystem:s.isSystem,permissionScopes:s.projectPermissionScopes,onDownloadAllClick:x,noFocus:!0,canShareProject:!0,onOpenChange:i,navigateToHomeAfterDelete:!1,source:"index page",testId:"project-options"})})]})}const V=[{field:"name",use:"Name",width:40},{field:"items",use:"Items",width:20},{field:"lastModified",use:"Last modified",width:30,locked:!0},{field:"option",use:"",width:10}];function Y(e){let{column:s,displayValue:t,row:r}=e;if("name"===s.field)return(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-900 truncate",children:[(0,a.jsx)("div",{className:"xs:py-[10px]",children:r.icon}),(0,a.jsx)("span",{className:"truncate",children:r.name})]});if("lastModified"===s.field){const e=(0,O.WU)(new Date(t),"MMMM d, yyyy");return(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e})}return"option"===s.field?r.project?(0,a.jsx)(J,{project:r.project,workspaceId:r.project.workspaceId}):(0,a.jsx)("div",{className:"w-[52px]"}):(0,a.jsx)("div",{className:"text-sm text-gray-900",children:t})}const K=(e,s,t)=>(0,a.jsx)(Y,{row:e,column:s,displayValue:t});function Q(e){let{canLoadMore:s,isLoadingMore:t,onLoadMore:r,workspaceProjects:n}=e;const[l,i]=(0,y._)("projects-resizable-list-column-state",V),c=(0,o.useCallback)(((e,s)=>{i((t=>{const a=t.find((s=>s.field===e));return a&&(a.width=s),[...t]}))}),[i]),d=(0,H.useRouter)(),u=(0,o.useMemo)((()=>{var e;return null!==(e=null==n?void 0:n.edges.filter((e=>!(e.node.isSystem&&"Drafts"===e.node.title))).map((e=>{var s;return{key:e.node.id,name:e.node.title,items:null!==(s=e.node.filesCount)&&void 0!==s?s:0,lastModified:e.node.updatedAt,icon:e.node.isPrivate?(0,a.jsx)(S.u,{placement:"bottom",title:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"Only people who are invited"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:"can view and edit this project"})]}),children:(0,a.jsx)(R.dvY,{width:16,className:"text-gray-900"})}):(0,a.jsx)(R.zde,{width:16,className:"text-gray-900"}),project:e.node,onClick:()=>{d.push("/project/".concat(e.node.id,"?from=index page"))}}})))&&void 0!==e?e:[]}),[d,null==n?void 0:n.edges]);return(0,a.jsx)(X.v,{columns:l,rows:u,renderRow:K,canLoadMore:s,isLoadingMore:t,onLoadMore:r,onColumnWidthChange:c})}var q=t(23617),G=t(20953);function $(){const{cancel:e,isLoaded:s}=(0,b.N)(),{activeWorkspaceId:t}=(0,N.cF)(),{isWorkspaceLoading:n}=(0,C.r)(),i=(0,G.k)("name","title"),{canLoadMore:c,isFetching:d,isLoadingMore:u,loadMore:p,workspaceProjects:x}=(0,N._K)(t,{first:25,orderBy:i},{requestPolicy:"cache-and-network"}),[m,h]=(0,y._)(q.dR.PROJECT_LAYOUT,q.o6.GRID),j=(0,k.sZ)(t),g=(0,o.useMemo)((()=>{var e;return j.canCreateProjects(null!==(e=null==x?void 0:x.totalCount)&&void 0!==e?e:0)}),[j,x]);(0,o.useEffect)((()=>{s&&e({taskId:M.O.PROJECTS_INDEX})}),[e,s]);const f=n||d;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I(),{children:(0,a.jsx)("title",{children:"Projects - LottieFiles Platform"})}),(0,a.jsx)(r.o,{headerWrapperCssClasses:"flex items-center px-6 flex-shrink-0 pt-3 pb-4",contentWrapperCssClasses:"flex-grow p-6 pt-0",headerControl:(0,a.jsx)(w,{workspaceId:t,viewLayout:m,setViewLayout:h,canCreateProjects:g}),children:f?(0,a.jsx)(l,{items:8,view:m}):(0,a.jsx)(a.Fragment,{children:m===q.o6.LIST?(0,a.jsx)(Q,{workspaceProjects:x,onLoadMore:p,canLoadMore:c,isLoadingMore:u}):(0,a.jsx)(W,{workspaceProjects:x,onLoadMore:p,canLoadMore:c,isLoadingMore:u,workspaceId:t})})})]})}}},function(e){e.O(0,[9731,7962,2651,911,7558,2888,9774,179],(function(){return s=7874,e(e.s=s);var s}));var s=e.O();_N_E=s}]);